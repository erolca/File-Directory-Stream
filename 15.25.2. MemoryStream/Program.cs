using System;
using System.IO;


//15.25.2.	MemoryStream: Write bytes and dump to a file


public class MainClass
{
    public static int Main(string[] args)
    {
        MemoryStream myMemStream = new MemoryStream();
        myMemStream.Capacity = 256;

        for (int i = 0; i < 256; i++)
            myMemStream.WriteByte((byte)i);

        myMemStream.Position = 0;

        for (int i = 0; i < 256; i++)
            Console.Write(myMemStream.ReadByte());
        Console.WriteLine();

        FileStream dumpFile = new FileStream("c:\\TEST\\Dump.dat", FileMode.Create, FileAccess.ReadWrite);
        myMemStream.WriteTo(dumpFile);
        byte[] bytesinMemory = myMemStream.ToArray();
        myMemStream.Close();

        for (int i = 0; i < bytesinMemory.Length; i++)
            Console.Write(bytesinMemory[i]);

        return 0;
    }
}
//0123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354
//5556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021
//0310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513
//6137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169
//1701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022
//0320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523
//6237238239240241242243244245246247248249250251252253254255
//0123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354
//5556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021
//0310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513
//6137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169
//1701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022
//0320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523
//6237238239240241242243244245246247248249250251252253254255